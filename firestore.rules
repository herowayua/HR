rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Allow read/write for all users (including anonymous) for vacancies
    match /vacancies/{vacancyId} {
      allow read, write: if true;
    }
    
    // Allow read/write for all users for courses
    match /courses/{courseId} {
      allow read, write: if true;
    }

    // Allow users to access their own data in artifacts
    match /artifacts/{appId}/users/{userId}/{document=**} {
      allow read, write: if true;
    }

    // Allow access to chat collections (assuming structure)
    // You might need to adjust this path based on your exact code
    match /artifacts/{appId}/chats/{chatId}/{document=**} {
      allow read, write: if true;
    }
    
    // Catch-all for other collections during development
    // WARNING: This is insecure for production. 
    // match /{document=**} {
    //   allow read, write: if request.auth != null;
    // }
  }
}
